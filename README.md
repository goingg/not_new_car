# 车淘淘二手车项目

## 项目结构
```
car/
    app.py           # 主入口，Flask 路由与页面逻辑
    database.py      # 数据库连接与操作
    spider.py        # 爬虫采集与图片上传
    statistics.py    # 统计分析逻辑
    utils.py         # 工具函数与统一配置
    car_img/         # 本地图片存储
    templates/       # 前端页面模板
README.md            # 项目说明
requirements.txt     # 依赖列表
```

## 环境要求
- Python 3.8+
- MySQL 数据库
- 推荐使用 Windows 或 Linux 环境

## 安装依赖
pip install -r requirements.txt

## 数据采集
python car/spider.py

## 启动服务
python car/app.py



## 核心功能

#### **二手车信息展示**

- 列表页：分页展示二手车列表（含品牌、型号、年份、价格、图片等），支持按价格区间筛选（10 万以下 / 10-20 万 / 20-30 万等）。
- 详情页：展示单辆车完整信息，包括：
  - 基础信息（型号、品牌、上牌时间、里程等）；
  - 配置参数（变速箱、排量、燃油类型、驱动方式等）；
  - 检测报告（外观、内饰、发动机、事故记录等）；
  - 车辆描述及 “联系销售”“预约看车” 功能按钮。

#### **市场数据分析**

- 数据概览：展示平均价格、总交易量、平均车龄、平均里程等关键指标。
- 可视化图表：
  - 品牌分布饼图（展示各品牌车辆数量占比）；
  - 价格趋势折线图（2018-2023 年平均价格变化）；
  - 价格区间分布（按 10 万以下 / 10-20 万等区间展示车辆数量）。

#### **数据爬取与处理**

- 从第三方平台爬取车辆信息（名称、价格、年份、里程、图片等），并对特殊字符进行安全处理（如`safe_name`函数过滤非法字符）。

- 数据存储：文字信息存入 MySQL 数据库，图片上传至七牛云存储。


## 技术实现细节

#### **后端技术**

- 框架：Python + Flask。
- 数据库：MySQL，database.py`实现数据交互。
- 数据可视化：使用`pyecharts`生成饼图、折线图。

#### **前端技术**

- 页面布局：HTML + CSS + JS
- 图标：Font Awesome

#### **数据爬取**

- 工具：requests（网络请求）、BeautifulSoup（页面解析)

## 业务流程

#### **数据采集**

- 爬虫脚本爬取第三方平台二手车数据，经`safe_name`处理后，图片上传至七牛云，文字数据写入 MySQL。

#### **用户浏览**

- 用户访问首页 / 列表页，通过分页功能浏览车辆列表，可按价格区间筛选。
- 点击车辆进入详情页，查看完整信息并发起咨询或预约。

#### **数据分析**

- 用户访问数据分析页，后端通过`get_statistics_data`从数据库获取统计数据，调用`create_charts`生成可视化图表，前端渲染展示。
